;( function( window ) {	
	'use strict';
	/**
	 * This witen by emgathatday
	 * Website url: onegovn.com
	 */
	$.fn.resbtn = function(){		
		this.each(function(){
			var elem = $(this),
				target = $(elem.attr('href'));
			if(elem.attr('href') == null){
				target = $(elem.data('href'));
			}			
			elem.click(function(e){				
				e.stopPropagation();
				
				if($(this).hasClass('open')){
					$(this).removeClass('open');
					target.removeClass('open');
					if($(this).data('body') == true){
						$('body').removeClass('open-menu');						
					}
				}else{
					$('body').click();
					$(this).addClass('open');
					target.addClass('open');
					if($(this).data('body') == true){
						$('body').addClass('open-menu');						
					}
				}
				
				return false;
			});
			target.click(function(e){
				e.stopPropagation();
			});
			$('body').click(function() {
				$('body').removeClass('open-menu');
				elem.removeClass('open');
				target.removeClass('open');
			});
		});
	};
})( window );	